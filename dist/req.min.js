/*! github.com/gillescochez/req.js */
var req=window.req||function(a){var b={path:"./modules/",order:!0},c={},d={},e={},f={},g=function(a,c){if(!b[a])throw a+" is not a configuration parameter";if(c)b[a]=c;else return b[a]},h=function(a,b,c){var d=a.length,e=0;for(;e<d;e++)b.apply(null,c?[e,a[e]]:[a[e]])},i=function(a,b){return h(a,function(a){(function(a){b[a]=function(b){return b.constructor===window[a]}})(a)}),b}(["Array","String","Object","Function"],{}),j=function(b,c){var d=a.createElement("script");d.readyState?d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=null,c())}:d.onload=c,d.src=b,a.getElementsByTagName("head")[0].appendChild(d)},k=function(a){return a.join("")},l=function(a){var c=[];return h(a,function(a){/^(http\:\/\/|https\:\/\/|\.)/.test(a)?c.push(a):c.push(b.path+a+".js")}),c},m=function(a){var b=[];return h(a,function(a){/^(http\:\/\/|https\:\/\/|\.)/.test(a)||b.push(f[a])}),b},n=function(a){h(c[a].callbacks,function(d,e){b.order?!c[a][d-1]&&e&&(e.apply(this,m(c[a].resources)),c[a].callbacks.splice(d,1),n(a)):e.apply(this,m(c[a].resources))},!0)},o=function(a){var b=!0;h(l(a),function(a){d[a]!==!0&&(b=!1)}),b&&n(k(a))},p=function(a,b){h(a,function(a){d[a]?o(b):!e[a]&&!d[a]&&(e[a]=!0,j(a,function(){d[a]=!0,e[a]=!1,o(b)}))})},q=function(a,b){var d=k(a);c[d]||(c[d]={callbacks:[],resources:a}),c[d].callbacks.push(b),p(l(a),a)},r=function(a,b){if(!f[a])f[a]=b,f[a].name||(f[a].name=a);else throw a+" already exists!"};return function(){if(arguments.length===0)return{settings:b,objects:f};if(arguments.length===1){if(i.String(arguments[0])){if(f[arguments[0]])return f[arguments[0]];throw arguments[0]+" does not exists!"}if(i.Object(arguments[0]))for(var a in arguments[0])g(a,arguments[0][a])}if(arguments.length===2){i.Array(arguments[0])&&i.Function(arguments[1])&&q(arguments[0],arguments[1]),i.String(arguments[0])&&(i.Object(arguments[1])||i.Function(arguments[1]))&&r(arguments[0],arguments[1]);if(i.String(arguments[0])&&i.String(arguments[1])){if(arguments[0]==="get")return g(arguments[1]);g(arguments[0],arguments[1])}}return req}}(document)